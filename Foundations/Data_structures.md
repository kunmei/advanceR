## 数据结构
本章节总结在基础R中最重要的数据结构。在这之前你可能使用过它们中的许多，但是你可能还没有深刻地思考它们是如何相互联系的。在这篇简单的概述中，我不会深入讨论单个的类型。反而，我将向你们展示它们作为一个整体是如何组合在一起的。如果你需要更多的细节，你可以在R的help文档中找到它们。

R的基础数据结构可以根据它们的维度以及它们是否是同质的或者是异质的进行分类。这就产生了在数据分析中经常使用到的五种数据类型。

||同质的|非同质的|
|:-:|:-:|:-:|
|一维|原子向量|列表|
|二维|矩阵|数据框|
|多维|数组||

几乎所有替他类型都是在这些基础上建立的。在面向对象指南中，你将看到一些更加复杂的对象是如何通过这些建立的。需要注意的是，R中没有零维和变量类型。单个的数字或者字符串，也许你会认为它们是标量，其实它们是长度为一的向量。给定一个对象，str() 是最好的方法去了解它是由什么数据结构所组成的。str()是structure是缩写，它对任何一个R数据结构给出了简洁的，便于人们阅读的描述。

##### 小测试
做个小测试检验你是否需要阅读该章节。如果你快速知道答案，你可以自然地跳过该章节。在可以在回答部分查看答案。
1. 除了内容， 一个向量的三个特质是什么？
2. 原子向量的四种常见类型是什么？两种不常见的类型是什么？
3. 属性是什么？你如何得到它们并且设置它们？
4. 列表和原子向量的区别是什么？ 数据框和矩阵的区别是什么？
5. 你能得到是一个矩阵的列表吗？ 数据框的某一列能否是一个矩阵？

### 大纲
**Vectors** 向你们介绍原子向量和列表，R中的一维数据结构
**Attributes** 讨论一下属性，R中灵活的元数据规范。这里你讲学习到因子，一种通过对原子向量设定属性而创造的重要的数据结构
**Matrices and arrays** 介绍矩阵和数组，分别储存二维和高维数据的数据结构
**Data frames** 介绍数据框，R中储存数据的最重要的一种数据结构。数据框结构结合了列表和矩阵的行为，很好地满足统计数据的需要

#### 向量（Vectors）
R中最基础的数据结构是向量，向量有两种类型（come in two flavours）：原子向量和列表。它们有三个共同的特性：
- **类型** Typeof()，是什么
- **长度** length()，包含多少个元素
- **属性** attributes()，额外的任意元数据

它们在它们元素的类型上面不同，原子向量的所有元素必须是同一个类型，然而列表的类型可以是不同的类型。
**请注意**：is.vector() 不是验证一个对象是否是向量。仅仅当一个对象是一个除了名字（names）不包含其他属性的向量的时候，它才返回TRUE。用is.atomic(x) || is.list(x)去验证一个对象是否真的是一个向量。

##### 原子向量
我们将详细讨论原子向量中四种常见的类型，分别是：逻辑类型，整数类型，双精度型（通常也叫做数值类型）和字符类型。还有两种罕见的类型我们不做深入地讨论：复数类型（complex）和raw原子向量通常用c()进行创建，combine的缩写：

```
dbl_var <-c(1, 2.5, 4.5)
# With the L suffix, you get an integer rather than a double
int_var <-c(1L, 6L, 10L)
# Use TRUE and FALSE (or T and F) to create logical vectors
log_var <-c(TRUE, FALSE, T, F)
chr_var <-c("these are", "some strings")
```
原子向量总是平的，即使你使用嵌套的c()：

```
c(1, c(2, c(3, 4)))
#> [1] 1 2 3 4# the same asc(1, 2, 3, 4)
#> [1] 1 2 3 4
```



